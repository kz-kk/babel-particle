{"ast":null,"code":"import { jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useMemo, useLayoutEffect } from \"react\";\nimport { N8AOPostPass } from \"./N8AOPostPass.js\";\nimport { useThree, applyProps } from \"@react-three/fiber\";\nconst N8AO = forwardRef(({\n  halfRes,\n  screenSpaceRadius,\n  quality,\n  depthAwareUpsampling = true,\n  aoRadius = 5,\n  aoSamples = 16,\n  denoiseSamples = 4,\n  denoiseRadius = 12,\n  distanceFalloff = 1,\n  intensity = 1,\n  color,\n  renderMode = 0\n}, ref) => {\n  const {\n    camera,\n    scene\n  } = useThree();\n  const effect = useMemo(() => new N8AOPostPass(scene, camera), []);\n  useLayoutEffect(() => {\n    applyProps(effect.configuration, {\n      color,\n      aoRadius,\n      distanceFalloff,\n      intensity,\n      aoSamples,\n      denoiseSamples,\n      denoiseRadius,\n      screenSpaceRadius,\n      renderMode,\n      halfRes,\n      depthAwareUpsampling\n    });\n  }, [screenSpaceRadius, color, aoRadius, distanceFalloff, intensity, aoSamples, denoiseSamples, denoiseRadius, renderMode, halfRes, depthAwareUpsampling]);\n  useLayoutEffect(() => {\n    if (quality) effect.setQualityMode(quality.charAt(0).toUpperCase() + quality.slice(1));\n  }, [quality]);\n  return /* @__PURE__ */jsx(\"primitive\", {\n    ref,\n    object: effect\n  });\n});\nexport { N8AO };","map":{"version":3,"names":["N8AO","forwardRef","halfRes","screenSpaceRadius","quality","depthAwareUpsampling","aoRadius","aoSamples","denoiseSamples","denoiseRadius","distanceFalloff","intensity","color","renderMode","ref","camera","scene","useThree","effect","useMemo","N8AOPostPass","useLayoutEffect","applyProps","configuration","setQualityMode","charAt","toUpperCase","slice","jsx","object"],"sources":["/Users/kasaikazunobu/project/babel/babel-project/node_modules/@react-three/postprocessing/src/effects/N8AO/index.tsx"],"sourcesContent":["// From https://github.com/N8python/n8ao\n// https://twitter.com/N8Programs/status/1660996748485984261\n\nimport { Ref, forwardRef, useLayoutEffect, useMemo } from 'react'\n/* @ts-ignore */\nimport { N8AOPostPass } from './N8AOPostPass'\nimport { useThree, ReactThreeFiber, applyProps } from '@react-three/fiber'\n\ntype N8AOProps = {\n  aoRadius?: number\n  distanceFalloff?: number\n  intensity?: number\n  quality?: 'performance' | 'low' | 'medium' | 'high' | 'ultra'\n  aoSamples?: number\n  denoiseSamples?: number\n  denoiseRadius?: number\n  color?: ReactThreeFiber.Color\n  halfRes?: boolean\n  depthAwareUpsampling?: boolean\n  screenSpaceRadius?: boolean\n  renderMode?: 0 | 1 | 2 | 3 | 4\n}\n\nexport const N8AO = forwardRef<N8AOPostPass, N8AOProps>(\n  (\n    {\n      halfRes,\n      screenSpaceRadius,\n      quality,\n      depthAwareUpsampling = true,\n      aoRadius = 5,\n      aoSamples = 16,\n      denoiseSamples = 4,\n      denoiseRadius = 12,\n      distanceFalloff = 1,\n      intensity = 1,\n      color,\n      renderMode = 0,\n    },\n    ref: Ref<N8AOPostPass>\n  ) => {\n    const { camera, scene } = useThree()\n    const effect = useMemo(() => new N8AOPostPass(scene, camera), [])\n    useLayoutEffect(() => {\n      applyProps(effect.configuration, {\n        color,\n        aoRadius,\n        distanceFalloff,\n        intensity,\n        aoSamples,\n        denoiseSamples,\n        denoiseRadius,\n        screenSpaceRadius,\n        renderMode,\n        halfRes,\n        depthAwareUpsampling,\n      })\n    }, [\n      screenSpaceRadius,\n      color,\n      aoRadius,\n      distanceFalloff,\n      intensity,\n      aoSamples,\n      denoiseSamples,\n      denoiseRadius,\n      renderMode,\n      halfRes,\n      depthAwareUpsampling,\n    ])\n    useLayoutEffect(() => {\n      if (quality) effect.setQualityMode(quality.charAt(0).toUpperCase() + quality.slice(1))\n    }, [quality])\n    return <primitive ref={ref} object={effect} />\n  }\n)\n"],"mappings":";;;;AAuBO,MAAMA,IAAA,GAAOC,UAAA,CAClB,CACE;EACEC,OAAA;EACAC,iBAAA;EACAC,OAAA;EACAC,oBAAA,GAAuB;EACvBC,QAAA,GAAW;EACXC,SAAA,GAAY;EACZC,cAAA,GAAiB;EACjBC,aAAA,GAAgB;EAChBC,eAAA,GAAkB;EAClBC,SAAA,GAAY;EACZC,KAAA;EACAC,UAAA,GAAa;AAAA,GAEfC,GAAA,KACG;EACH,MAAM;IAAEC,MAAA;IAAQC;EAAM,IAAIC,QAAA,CAAS;EAC7B,MAAAC,MAAA,GAASC,OAAA,CAAQ,MAAM,IAAIC,YAAA,CAAaJ,KAAA,EAAOD,MAAM,GAAG,EAAE;EAChEM,eAAA,CAAgB,MAAM;IACpBC,UAAA,CAAWJ,MAAA,CAAOK,aAAA,EAAe;MAC/BX,KAAA;MACAN,QAAA;MACAI,eAAA;MACAC,SAAA;MACAJ,SAAA;MACAC,cAAA;MACAC,aAAA;MACAN,iBAAA;MACAU,UAAA;MACAX,OAAA;MACAG;IAAA,CACD;EAAA,GACA,CACDF,iBAAA,EACAS,KAAA,EACAN,QAAA,EACAI,eAAA,EACAC,SAAA,EACAJ,SAAA,EACAC,cAAA,EACAC,aAAA,EACAI,UAAA,EACAX,OAAA,EACAG,oBAAA,CACD;EACDgB,eAAA,CAAgB,MAAM;IAChB,IAAAjB,OAAA,EAAgBc,MAAA,CAAAM,cAAA,CAAepB,OAAA,CAAQqB,MAAA,CAAO,CAAC,EAAEC,WAAA,KAAgBtB,OAAA,CAAQuB,KAAA,CAAM,CAAC,CAAC;EAAA,GACpF,CAACvB,OAAO,CAAC;EACZ,OAAQ,eAAAwB,GAAA;IAAUd,GAAA;IAAUe,MAAA,EAAQX;EAAQ;AAC9C,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}