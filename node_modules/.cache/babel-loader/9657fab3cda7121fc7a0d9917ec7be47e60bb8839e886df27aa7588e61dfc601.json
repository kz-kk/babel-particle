{"ast":null,"code":"var _jsxFileName = \"/Users/kasaikazunobu/project/ai/babel/ripple/3d-ripple-animation/src/App.js\",\n  _s = $RefreshSig$();\n// ./src/App.js\nimport './App.css';\nimport * as THREE from 'three';\nimport { Suspense, useRef } from 'react';\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber';\nimport { OrbitControls } from '@react-three/drei';\nimport circleImg from './assets/circle.png'; // テクスチャのインポート\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CameraControls() {\n  return /*#__PURE__*/_jsxDEV(OrbitControls, {\n    autoRotate: true,\n    autoRotateSpeed: -0.2\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 10\n  }, this);\n}\n_c = CameraControls;\nfunction MeshSurface() {\n  _s();\n  const imgTex = useLoader(THREE.TextureLoader, circleImg);\n  const meshRef = useRef();\n  const tRef = useRef(0);\n  const speed = 2; // 波の速度\n  const frequency = 0.2; // 波の周波数（調整）\n  // const amplitude = 1.5; // 波の振幅（調整）\n  const amplitude = 5; // 波の振幅（調整）\n\n  const radius = 100; // 円の半径\n  const segments = 100; // 円の分割数\n\n  useFrame((state, delta) => {\n    tRef.current += delta * speed;\n    const positions = meshRef.current.geometry.attributes.position.array;\n    const vertex = new THREE.Vector3();\n    for (let i = 0; i < positions.length; i += 3) {\n      vertex.fromArray(positions, i);\n      const distance = Math.sqrt(vertex.x * vertex.x + vertex.z * vertex.z);\n      positions[i + 1] = Math.sin(distance * frequency - tRef.current) * amplitude;\n    }\n    meshRef.current.geometry.attributes.position.needsUpdate = true;\n    meshRef.current.geometry.computeVertexNormals();\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    ref: meshRef,\n    rotation: [-Math.PI / 2, 0, 0],\n    children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n      args: [300, 300, 100, 100]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      map: imgTex,\n      color: 0xFFFFFF,\n      side: THREE.DoubleSide,\n      wireframe: false // 一時的にtrueにして波の動きを確認\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(MeshSurface, \"81yg2XaPC+PuRivYvl7QlDoLyj4=\", false, function () {\n  return [useLoader, useFrame];\n});\n_c2 = MeshSurface;\nfunction AnimationCanvas() {\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    colorManagement: false,\n    camera: {\n      position: [0, 100, 200],\n      fov: 75\n    },\n    children: [/*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: [/*#__PURE__*/_jsxDEV(MeshSurface, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n        position: [10, 10, 10],\n        intensity: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"axesHelper\", {\n        args: [100]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"gridHelper\", {\n        args: [300, 30]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CameraControls, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_c3 = AnimationCanvas;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"anim\",\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 27\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(AnimationCanvas, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"CameraControls\");\n$RefreshReg$(_c2, \"MeshSurface\");\n$RefreshReg$(_c3, \"AnimationCanvas\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["THREE","Suspense","useRef","Canvas","useFrame","useLoader","OrbitControls","circleImg","jsxDEV","_jsxDEV","CameraControls","autoRotate","autoRotateSpeed","fileName","_jsxFileName","lineNumber","columnNumber","_c","MeshSurface","_s","imgTex","TextureLoader","meshRef","tRef","speed","frequency","amplitude","radius","segments","state","delta","current","positions","geometry","attributes","position","array","vertex","Vector3","i","length","fromArray","distance","Math","sqrt","x","z","sin","needsUpdate","computeVertexNormals","ref","rotation","PI","children","args","map","color","side","DoubleSide","wireframe","_c2","AnimationCanvas","colorManagement","camera","fov","fallback","intensity","_c3","App","className","_c4","$RefreshReg$"],"sources":["/Users/kasaikazunobu/project/ai/babel/ripple/3d-ripple-animation/src/App.js"],"sourcesContent":["// ./src/App.js\nimport './App.css';\nimport * as THREE from 'three';\nimport { Suspense, useRef } from 'react';\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber';\nimport { OrbitControls } from '@react-three/drei';\nimport circleImg from './assets/circle.png'; // テクスチャのインポート\n\nfunction CameraControls() {\n  return <OrbitControls autoRotate autoRotateSpeed={-0.2} />;\n}\n\nfunction MeshSurface() {\n  const imgTex = useLoader(THREE.TextureLoader, circleImg);\n  const meshRef = useRef();\n\n  const tRef = useRef(0);\n  const speed = 2; // 波の速度\n  const frequency = 0.2; // 波の周波数（調整）\n  // const amplitude = 1.5; // 波の振幅（調整）\n  const amplitude = 5; // 波の振幅（調整）\n\n  const radius = 100; // 円の半径\n  const segments = 100; // 円の分割数\n\n  useFrame((state, delta) => {\n    tRef.current += delta * speed;\n\n    const positions = meshRef.current.geometry.attributes.position.array;\n    const vertex = new THREE.Vector3();\n\n    for (let i = 0; i < positions.length; i += 3) {\n      vertex.fromArray(positions, i);\n      const distance = Math.sqrt(vertex.x * vertex.x + vertex.z * vertex.z);\n      positions[i + 1] = Math.sin(distance * frequency - tRef.current) * amplitude;\n    }\n\n    meshRef.current.geometry.attributes.position.needsUpdate = true;\n    meshRef.current.geometry.computeVertexNormals();\n  });\n\n  return (\n    <mesh ref={meshRef} rotation={[-Math.PI / 2, 0, 0]}>\n      <planeGeometry args={[300, 300, 100, 100]} />\n      <meshStandardMaterial\n        map={imgTex}\n        color={0xFFFFFF}\n        side={THREE.DoubleSide}\n        wireframe={false} // 一時的にtrueにして波の動きを確認\n      />\n    </mesh>\n  );\n}\n\nfunction AnimationCanvas() {\n  return (\n    <Canvas\n      colorManagement={false}\n      camera={{ position: [0, 100, 200], fov: 75 }}\n    >\n      <Suspense fallback={null}>\n        <MeshSurface />\n        <ambientLight intensity={0.5} />\n        <pointLight position={[10, 10, 10]} intensity={1} />\n        <axesHelper args={[100]} />\n        <gridHelper args={[300, 30]} />\n      </Suspense>\n      <CameraControls />\n    </Canvas>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"anim\">\n      <Suspense fallback={<div>Loading...</div>}>\n        <AnimationCanvas />\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}